<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="pix.css">
    <title>Document</title>
</head>
<body>
        <div class="logo">
            <img class="imgLogo" src="IMG/FAÇA SEU LOGIN.png" alt="logo" >
                <button class="botao-perfil"><img class="perfilImg" src="IMG/perfil.png" alt=""></button>
                <button class="botao-sacola"><img class="sacolaImg" src="IMG/sacola.png" alt=""></button>
                <button class="botao-favorito"><img class="favoritoImg" src="IMG/favoritos.png" alt=""></button>
        </div>

        <header>
             
        <div class="menu-header">
       
            <nav>
                
            </nav>
         </div>

</header>
<main>
    <div class="pix">
        <h1>O seu pedido foi finalizado com sucesso!</h1>
        <h2>___________________________________________</h2>

        <p>Para fazer o pagamento de seu pedido, escaneie o QRCODE abaixo ou copie e cole o código PIX em seu aplicativo de pagamento</p>
    </div>
    <div class="resumo-box">
    <button class="voltar">
        <h2>voltar ao carrinho</h2>
    </button>
    <h3>Resumo do pedido</h3>

    <div class="produto">
      <img src="IMG/Site.jpg" alt="Livro Os sete maridos de Evelyn Hugo">
      <div class="produto-info">
        Os sete maridos de Evelyn Hugo
        <div class="preco">R$ 49,90</div>
      </div>
    </div>

    <div class="cupom">
      <input type="text" placeholder="Código">
      <button>Adicionar</button>
    </div>

    <div class="linha"></div>

    <div class="valores"><span>Subtotal</span><span>R$ 49,90</span></div>
    <div class="valores"><span>Total</span><span>R$ 49,90</span></div>

    <div class="linha"></div>

    <div class="observacao">
      <label>Observação</label>
      <input type="text">
    </div>
  </div>

  <div class="pix1">
      <label>Pagamento via PIX:</label>
      <button onclick="gerarPix()">Gerar código PIX</button>
      <div id="pixCode" class="pix-code" style="display:none;"></div>
      <div id="copiadoMsg" class="copiado" style="display:none;">✅ Copiado!</div>
    <div id="qrcode" style="margin-top:20px;"></div>
    </div>
</main>
 

    <script>
            // Adiciona a biblioteca qrcodejs
            (function() {
                var script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js';
                script.onload = function() {
                    // Nada a fazer aqui, só garantir que a lib está carregada
                };
                document.head.appendChild(script);
            })();

    function gerarPix() {
        // Simulação de geração de código PIX
        const pixCode = "00020126580014BR.GOV.BCB.PIX0136+55219999999952040000530398654049.905802BR5925Nome do Recebedor6009Cidade Teste61080540900062070503***6304B14F";
        document.getElementById("pixCode").innerHTML = `
            <p>Código PIX:</p>
            <textarea id="pixTextArea" rows="4" cols="50" readonly>${pixCode}</textarea>
            <button onclick="copiarPix()">Copiar Código PIX</button>
        `;
        document.getElementById("pixCode").style.display = "block";

                    // Gerar QR Code
                    setTimeout(function() {
                        if (window.QRCode) {
                            document.getElementById("qrcode").innerHTML = "";
                            new QRCode(document.getElementById("qrcode"), {
                                text: pixCode,
                                width: 200,
                                height: 200
                            });
                        }
                    }, 200); // Pequeno delay para garantir que a lib carregou
    }
    function copiarPix() {
        const pixTextArea = document.getElementById("pixTextArea");
        pixTextArea.select();
        pixTextArea.setSelectionRange(0, 99999); // Para dispositivos móveis
        document.execCommand("copy");

        // Mostrar mensagem de copiado
        const copiadoMsg = document.getElementById("copiadoMsg");
        copiadoMsg.style.display = "block";
        setTimeout(() => {
            copiadoMsg.style.display = "none";
        }, 2000); // Esconder a mensagem após 2 segundos
    }
            // Remove linha solta 'qrcode'
    </script>
    
</body>
</html>